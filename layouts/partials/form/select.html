{{- $id := .id -}} {{- $label := .label -}} {{- $options := .options -}} {{-
$required := .required | default false -}} {{- $disabled := .disabled | default
false -}} {{- $defaultValue := .default_value | default "" -}}

<div class="mb-6">
    <label
        for="{{ $id }}"
        class="block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-2"
    >
        {{ $label }}{{ if $required }}<span style="color: #ef4444" class="ml-1"
            >*</span
        >{{ end }}
    </label>

    <select
        id="{{ $id }}"
        name="{{ $id }}"
        {{
        if
        $required
        }}required{{
        end
        }}
        {{
        if
        $disabled
        }}disabled{{
        end
        }}
        class="w-full px-4 py-3 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-white dark:bg-neutral-800 text-neutral-900 dark:text-neutral-100 transition-colors duration-200 appearance-none
        {{ if $disabled }}opacity-60 cursor-not-allowed bg-neutral-100 dark:bg-neutral-700{{ end }}"
    >
        <option value="">
            {{ i18n "select_option" | default "Select an option..." }}
        </option>
        {{- range $options -}}
        <option
            value="{{ .value }}"
            {{
            if
            eq
            .value
            $defaultValue
            }}selected{{
            end
            }}
        >
            {{ .label }}
        </option>
        {{- end -}}
    </select>

    {{- if $disabled -}}
    <!-- Hidden input ensures disabled select value is still submitted -->
    <input type="hidden" name="{{ $id }}" value="{{ $defaultValue }}" />
    {{- end -}}
</div>
